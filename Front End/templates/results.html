<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>
<header>
    <nav>
        <div class="logo">
            <img src="static/meangreens.png" id=logo alt="Mean Greens" />
        </div>
        <ul class="navbar">
            <!--<img src="meangreens.png" id=logo alt="Mean Greens" />-->
            <li><a href="/search">Search</a></li>
            <li><a href="/doc">Documentation</a></li>
            <li><a href="/wordlist">Wordlist</a></li> 
            <li class="has-dropdown">
                <a href="/login">Login</a>
                <ul>
                    <li><a href="/list">My Wordlists</a></li>
                    <li><a href="/logout"><a>Logout</a></li>
                </ul>
            </li>  
        </ul>
    </nav>
</header>
<body>
    <form action="{{ url_for('test_search') }}" method="POST">
        <div class="search-section">
            <input type="text" name="search_term" class="search-bar" placeholder="Search...">
            <button type="submit">Search</button>
            <div class="icon-wrapper">
                <img src="{{ url_for('static', filename='icon.png') }}" alt="Filter Icon" class="filter-icon" id="filter-icon">
            </div>
        </div>
        <div class="filters-section" id="filters-section">
            <input type="text" name="date" class="filter-input" placeholder="Enter Date (YYYY-MM-DD)">
            <input type="text" name="user" class="filter-input" placeholder="Enter User">
            <button type="submit" class="apply-button">Apply Filter</button>
        </div>
    </form>
    
        {% if filters %}
        <div class="filters-applied">
          <h3>Applied Filters:</h3>
          <ul>
            {% for key, value in filters.items() %}
            <li><strong>{{ key }}:</strong> {{ value }}</li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}
      </div>
    
      <script>
        // Show filters when the icon is clicked
        document.getElementById('filter-icon').addEventListener('click', function() {
          const filtersSection = document.getElementById('filters-section');
          filtersSection.style.display = filtersSection.style.display === 'block' ? 'none' : 'block';
        });
      </script>
    <h1>Results</h1>
    <div style="display: flex; justify-content: center; align-items: center; padding: 20px;">
        <pre class="formatted-text">
            {{ results }}
        </pre>

    </div>
    <!-- <div> blah</div> -->
    </body>

</html>